function createJoystick(n){return new Vue({el:n.elementId,data:{angle:0,distance:0,color:n.color,name:n.name},mounted:function(){const n=this;nipplejs.create({zone:this.$el,color:this.color}).on("added",function(t,i){i.on("move",function(t,i){n.angle=i.angle.radian;n.distance=i.distance});i.on("start",function(){n.startCallback&&n.startCallback();n.angle=0;n.distance=0});i.on("end",function(){n.angle=0;n.distance=0})})},watch:{angle:function(){n.socket.send(JSON.stringify({joystickType:this.name,angle:this.angle,MessageType:"movement",distance:this.distance}))},distance:function(){n.socket.send(JSON.stringify({joystickType:this.name,angle:this.angle,MessageType:"movement",distance:this.distance}))}}})}