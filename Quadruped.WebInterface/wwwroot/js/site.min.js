function createJoystick(n){return new Vue({el:n.elementId,data:{angle:0,distance:0,color:n.color,name:n.name},mounted:function(){const t=this;nipplejs.create({zone:this.$el,color:this.color}).on("added",function(i,r){r.on("move",function(n,i){t.angle=i.angle.radian;t.distance=i.distance});r.on("start",function(){n.startCallback&&n.startCallback();t.angle=0;t.distance=0});r.on("end",function(){t.angle=0;t.distance=0})})},watch:{angle:function(){n.socket.send(JSON.stringify({joystickType:this.name,angle:this.angle,MessageType:"movement",distance:this.distance}))},distance:function(){n.socket.send(JSON.stringify({joystickType:this.name,angle:this.angle,MessageType:"movement",distance:this.distance}))}}})}